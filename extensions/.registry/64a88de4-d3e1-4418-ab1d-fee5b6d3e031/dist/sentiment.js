import{defineInterface as t}from"@directus/extensions-sdk";import{defineComponent as e,computed as n,resolveComponent as a,openBlock as i,createElementBlock as r,Fragment as s,createBlock as o,normalizeClass as l,withCtx as u,renderList as d,unref as v,createVNode as m,createCommentVNode as f,createTextVNode as c,toDisplayString as p}from"vue";var g=e({__name:"sentiment",props:{value:{type:[Number,null],required:!0,default:null},ratingSystem:{type:String,required:!0,default:"stars"}},emits:["input"],setup(t,{emit:e}){const g=t,y=n((()=>{var t=[];if("stars"==g.ratingSystem)for(let e=1;e<=5;e++)t.push({label:e+" star"+(1==e?"":"s"),icon:{on:"star",off:"star_outline"},value:e});else if(["satisfaction","helpful"].includes(g.ratingSystem)){const e=["sentiment_very_dissatisfied","sentiment_dissatisfied","sentiment_neutral","sentiment_satisfied","sentiment_very_satisfied"],n={helpful:["undefined","Unhelpful","Neutral","Helpful","undefined"],satisfaction:["Very Dissatisfied","Dissatisfied","Neutral","Satisfied","Very Satisfied"]};for(let a=-2;a<=2;a++)t.push({label:"satisfaction"==g.ratingSystem?n.satisfaction[a+2]:n.helpful[a+2],icon:{on:e[a+2],off:e[a+2]},value:a});"helpful"==g.ratingSystem&&(t.pop(),t.shift())}else["binary","ternary","vote"].includes(g.ratingSystem)&&(t.push({label:"vote"==g.ratingSystem?"Upvote":"Like",icon:{on:"vote"==g.ratingSystem?"arrow_upward":"thumb_up_alt",off:"vote"==g.ratingSystem?"arrow_upward":"thumb_up_off_alt"},value:1}),t.push({label:"vote"==g.ratingSystem?"Downvote":"Dislike",icon:{on:"vote"==g.ratingSystem?"arrow_downward":"thumb_down_alt",off:"vote"==g.ratingSystem?"arrow_downward":"thumb_down_off_alt"},value:-1}),"ternary"==g.ratingSystem&&(t.reverse(),t.push({label:"Love",icon:{on:"favorite",off:"favorite_border"},value:2})));return t}));return(n,h)=>{const b=a("v-icon"),_=a("v-button"),S=a("v-sheet");return i(),r(s,null,["medium"!=t.ratingSystem?(i(),o(S,{key:0,class:l(["rating","number"==typeof t.value?"":"set"])},{default:u((()=>[(i(!0),r(s,null,d(v(y),(n=>(i(),o(_,{key:n.value,"v-tooltip":n.label,class:l(["rating",t.ratingSystem]),value:n.value,outlined:"stars"==t.ratingSystem||t.value!=n.value,onClick:t=>{return a=n.value,void e("input",g.value==a?null:a);var a},rounded:"",icon:"",exact:""},{default:u((()=>[m(b,{class:l(["icon rating",t.value==n.value||t.value>n.value&&"stars"==t.ratingSystem?n.icon.on:n.icon.off]),name:t.value==n.value||t.value>n.value&&"stars"==t.ratingSystem?n.icon.on:n.icon.off},null,8,["class","name"])])),_:2},1032,["v-tooltip","class","value","outlined","onClick"])))),128))])),_:1},8,["class"])):f("v-if",!0),"medium"==t.ratingSystem?(i(),o(S,{key:1,class:"rating medium set"},{default:u((()=>[m(_,{onClick:h[0]||(h[0]=n=>e("input",t.value+1)),rounded:"",icon:"",exact:"",outlined:""},{default:u((()=>[m(b,{name:"plus_one"})])),_:1}),c(" "+p(t.value)+" claps ",1)])),_:1})):f("v-if",!0)],64)}}}),y=[],h=[];!function(t,e){if(t&&"undefined"!=typeof document){var n,a=!0===e.prepend?"prepend":"append",i=!0===e.singleTag,r="string"==typeof e.container?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(i){var s=y.indexOf(r);-1===s&&(s=y.push(r)-1,h[s]={}),n=h[s]&&h[s][a]?h[s][a]:h[s][a]=o()}else n=o();65279===t.charCodeAt(0)&&(t=t.substring(1)),n.styleSheet?n.styleSheet.cssText+=t:n.appendChild(document.createTextNode(t))}function o(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),e.attributes)for(var n=Object.keys(e.attributes),i=0;i<n.length;i++)t.setAttribute(n[i],e.attributes[n[i]]);var s="prepend"===a?"afterbegin":"beforeend";return r.insertAdjacentElement(s,t),t}}("\n.rating.v-button + .rating.v-button:not(.stars) {\n\t\tmargin-left: 8px;\n}\n.rating.v-button.stars button {\n\t\tborder: none !important;\n}\n.rating.v-sheet {\n\t\tdisplay: inline-block;\n\t\tpadding: 10px;\n\t\tbackground: none;\n\t\tborder: var(--border-width) solid var(--border-normal);\n\t\tpadding-left: 12px;\n\t\tpadding-right: 12px;\n}\n.rating.v-sheet.medium {\n\t\tdisplay: block;\n}\n.rating.v-sheet:hover {\n\t\tborder-color: var(--border-normal-alt);\n}\n.rating.v-sheet:not(.set) button {\n\t\tborder: none !important;\n}\n.rating.icon.star { color: var(--yellow);\n}\n.rating.icon.favorite { color: var(--pink);\n}\n.rating.icon.thumb_down_alt { color: var(--danger-75);\n}\n.rating.icon.thumb_up_alt { color: var(--success-125);\n}\n",{}),g.__file="source/sentiment.vue";var b=t({id:"jamtastic-sentiment-interface",name:"Sentiment",description:"Select a quantitative sentiment rating",icon:"thumbs_up_down",component:g,types:["integer"],group:"selection",recommendedDisplays:["rating"],options:({field:t})=>{var e;return{standard:[{field:"ratingSystem",name:"Rating system",meta:{width:"half",interface:"select-dropdown",options:{choices:[{text:"Star rating",value:"stars"},{text:"Binary",value:"binary"},{text:"Ternary",value:"ternary"},{text:"Voting",value:"vote"},{text:"Satisfaction",value:"satisfaction"},{text:"Helpful",value:"helpful"},{text:"Cumulative",value:"medium"}]}}}],advanced:[{field:"softLength",name:"$t:soft_length",type:"integer",meta:{width:"half",interface:"input",options:{placeholder:"255",min:1,max:null===(e=t.schema)||void 0===e?void 0:e.max_length}}}]}}});export{b as default};
